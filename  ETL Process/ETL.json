{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"PowerBIDatasets s.hoseini":{"type":"string"},"adventureworks2022source s.hoseini":{"type":"string"},"AdventureWorks2022Lakehouse":{"type":"string"}},"variables":{},"resources":[{"name":"ETL","type":"pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"Create_FactSales_Table","type":"RefreshDataflow","dependsOn":[{"activity":"Run_Staging_Notebook","dependencyConditions":["Completed"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"dataflowId":"de70f503-6f7d-44a9-b145-7dcb58e6c697","workspaceId":"7503d12e-9687-4aef-903b-52c0c140da85","notifyOption":"NoNotification","dataflowType":"DataflowFabric"}},{"name":"Run_Staging_Notebook","type":"TridentNotebook","dependsOn":[{"activity":"Copy_Data_Azure","dependencyConditions":["Completed"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"notebookId":"a98c4130-21f0-46ee-92b9-7ba230bded80","workspaceId":"7503d12e-9687-4aef-903b-52c0c140da85"}},{"name":"Semantic model refresh","type":"PBISemanticModelRefresh","dependsOn":[{"activity":"Create_FactSales_Table","dependencyConditions":["Completed"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"method":"post","groupId":"7503d12e-9687-4aef-903b-52c0c140da85","datasetId":"93292569-1f78-4999-89c7-e0e29379aabd","waitOnCompletion":true,"commitMode":"Transactional","operationType":"SemanticModelRefresh","objects":[{"table":"dim_productsubcategory"},{"table":"dim_productcategory"},{"table":"dim_territory"},{"table":"dim_product"},{"table":"dim_customer"},{"table":"fact_returns"},{"table":"FactSales"},{"table":"dim_Date"}]},"externalReferences":{"connection":"[parameters('PowerBIDatasets s.hoseini')]"}},{"name":"Copy_Data_Azure","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"DelimitedTextSource","storeSettings":{"type":"AzureBlobFSReadSettings","recursive":true,"enablePartitionDiscovery":false},"formatSettings":{"type":"DelimitedTextReadSettings"},"datasetSettings":{"annotations":[],"type":"DelimitedText","typeProperties":{"location":{"type":"AzureBlobFSLocation","fileSystem":"rawdata"},"columnDelimiter":",","escapeChar":"\\","firstRowAsHeader":true,"quoteChar":"\""},"schema":[],"externalReferences":{"connection":"[parameters('adventureworks2022source s.hoseini')]"}}},"sink":{"type":"DelimitedTextSink","storeSettings":{"type":"LakehouseWriteSettings"},"formatSettings":{"type":"DelimitedTextWriteSettings","fileExtension":".txt"},"datasetSettings":{"annotations":[],"linkedService":{"name":"AdventureWorks2022Lakehouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"7503d12e-9687-4aef-903b-52c0c140da85","artifactId":"[parameters('AdventureWorks2022Lakehouse')]","rootFolder":"Files"}}},"type":"DelimitedText","typeProperties":{"location":{"type":"LakehouseLocation","folderPath":"raw"},"columnDelimiter":",","escapeChar":"\\","firstRowAsHeader":true,"quoteChar":"\""},"schema":[]}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}}],"variables":{"Year":{"type":"String"}},"lastModifiedByObjectId":"d2edb004-dfe7-4975-a5c7-7cc282c0b8b8","lastPublishTime":"2025-06-11T16:38:34Z"},"dependsOn":[]}]}